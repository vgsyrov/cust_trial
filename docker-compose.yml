version: "3"
services:
    rabbitMQ:
#       image: rabbitmq:latest
       image: rabbitmq:management
       container_name: rabbitmq
#       volumes:
#            - ./docker/rabbitmq/etc/:/etc/rabbitmq/
#            - ./docker/rabbitmq/data/:/var/lib/rabbitmq/
#            - ./docker/rabbitmq/logs/:/var/log/rabbitmq/
       environment:
            RABBITMQ_ERLANG_COOKIE: ${RABBITMQ_ERLANG_COOKIE}
            RABBITMQ_DEFAULT_USER: ${RABBITMQ_DEFAULT_USER}
            RABBITMQ_DEFAULT_PASS: ${RABBITMQ_DEFAULT_PASS}
       ports:
         - "5672:5672"
         - "15672:15672"

       networks:
            - network

    database:
        image: "postgres" # use latest official postgres version
        container_name: pg_db
        env_file:
           - database.env # configure postgres
        ports:
           - ${POSTGRES_PORT:-5432}:5432
#        volumes:
#           - pg_db:/var/lib/postgresql/data

networks:
  # Declare our private network.  We must declare one for the magic
  # Docker DNS to work, but otherwise its default settings are fine.
  network: {}
